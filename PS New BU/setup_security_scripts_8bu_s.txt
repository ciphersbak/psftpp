--SECURITY
--********************scripts to be executed*******************
--A.	SQL Scripts to be executed in Atlas Finance
--1.	Row Level Security setup for the new UNFEM  EIGHT BU's.

INSERT INTO PS_SEC_BU_CLS  SELECT 'APA30' , business_unit  FROM ps_bus_unit_tbl_fs;--529

INSERT INTO PS_SEC_BU_CLS  SELECT 'RAS30' , business_unit FROM ps_bus_unit_tbl_fs;--529

INSERT INTO PS_SEC_BU_CLS  SELECT 'LAC30' , business_unit FROM ps_bus_unit_tbl_fs;--529

INSERT INTO PS_SEC_BU_CLS  SELECT 'ESA30' , business_unit FROM ps_bus_unit_tbl_fs;--529

INSERT INTO PS_SEC_BU_CLS  SELECT 'WCA30' , business_unit FROM ps_bus_unit_tbl_fs;--529

INSERT INTO PS_SEC_BU_CLS  SELECT 'NPL30' , business_unit FROM ps_bus_unit_tbl_fs;--529

INSERT INTO PS_SEC_BU_CLS  SELECT 'MLI30' , business_unit FROM ps_bus_unit_tbl_fs;--529

INSERT INTO PS_SEC_BU_CLS  SELECT 'HTI30' , business_unit FROM ps_bus_unit_tbl_fs;--529



INSERT INTO PS_SEC_BU_CLS  SELECT DISTINCT(oprclass), 'APA30' FROM PS_SEC_BU_CLS WHERE oprclass NOT LIKE 'EA%' and oprclass not in     (select oprclass from PS_SEC_BU_CLS where business_unit = 'APA30');--234

INSERT INTO PS_SEC_BU_CLS  SELECT DISTINCT(oprclass), 'RAS30' FROM PS_SEC_BU_CLS WHERE oprclass NOT LIKE 'EA%' and oprclass not in  (select oprclass from PS_SEC_BU_CLS where business_unit = 'RAS30');--234

INSERT INTO PS_SEC_BU_CLS  SELECT DISTINCT(oprclass), 'LAC30' FROM PS_SEC_BU_CLS WHERE oprclass NOT LIKE 'EA%' and oprclass not in  (select oprclass from PS_SEC_BU_CLS where business_unit = 'LAC30');--234

INSERT INTO PS_SEC_BU_CLS  SELECT DISTINCT(oprclass), 'ESA30' FROM PS_SEC_BU_CLS WHERE oprclass NOT LIKE 'EA%' and oprclass not in  (select oprclass from PS_SEC_BU_CLS where business_unit = 'ESA30');--234

INSERT INTO PS_SEC_BU_CLS  SELECT DISTINCT(oprclass), 'WCA30' FROM PS_SEC_BU_CLS WHERE oprclass NOT LIKE 'EA%' and oprclass not in  (select oprclass from PS_SEC_BU_CLS where business_unit = 'WCA30');--234

INSERT INTO PS_SEC_BU_CLS  SELECT DISTINCT(oprclass), 'NPL30' FROM PS_SEC_BU_CLS WHERE oprclass NOT LIKE 'EA%' and oprclass not in  (select oprclass from PS_SEC_BU_CLS where business_unit = 'NPL30');--234

INSERT INTO PS_SEC_BU_CLS  SELECT DISTINCT(oprclass), 'MLI30' FROM PS_SEC_BU_CLS WHERE oprclass NOT LIKE 'EA%' and oprclass not in  (select oprclass from PS_SEC_BU_CLS where business_unit = 'MLI30');--234

INSERT INTO PS_SEC_BU_CLS  SELECT DISTINCT(oprclass), 'HTI30' FROM PS_SEC_BU_CLS WHERE oprclass NOT LIKE 'EA%' and oprclass not in  (select oprclass from PS_SEC_BU_CLS where business_unit = 'HTI30');--234


--2.	Add the EIGHT new BU's to the WF Route control profile definition.

insert into  ps_rte_cntl_ln values ('UN_BU_UNFEM_ALL', 'Business Unit','APA30','APA30');--1
insert into  ps_rte_cntl_ln values ('UN_BU_UNFEM_ALL', 'Business Unit','RAS30','RAS30');--1
insert into  ps_rte_cntl_ln values ('UN_BU_UNFEM_ALL', 'Business Unit','LAC30','LAC30');--1
insert into  ps_rte_cntl_ln values ('UN_BU_UNFEM_ALL', 'Business Unit','ESA30','ESA30');--1
insert into  ps_rte_cntl_ln values ('UN_BU_UNFEM_ALL', 'Business Unit','WCA30','WCA30');--1
insert into  ps_rte_cntl_ln values ('UN_BU_UNFEM_ALL', 'Business Unit','NPL30','NPL30');--1
insert into  ps_rte_cntl_ln values ('UN_BU_UNFEM_ALL', 'Business Unit','MLI30','MLI30');--1
insert into  ps_rte_cntl_ln values ('UN_BU_UNFEM_ALL', 'Business Unit','HTI30','HTI30');--1

--B. SQL Scripts to be executed in Atlas Enterprise PORTAL(UNDPPA) (for ARGUS)
insert into ps_un_bu_userpref@undppalink values ('UNFEM','APA','APA30','RO-As-pcfc','RO-As-pcfc');--1
insert into ps_un_bu_userpref values ('UNFEM','RAS','RAS30','RO-Arb-St','RO-Arb-St');--1
insert into ps_un_bu_userpref values ('UNFEM','LAC','LAC30','RO-Am&Car','RO-Am&Car');--1
insert into ps_un_bu_userpref values ('UNFEM','ESA','ESA30','RO-Est-Afr','RO-Est-Afr');--1
insert into ps_un_bu_userpref values ('UNFEM','WCA','WCA30','RO-Wt-CtAf','RO-Wt-CtAf');--1
insert into ps_un_bu_userpref values ('UNFEM','NPL','NPL30','Nepal','Nepal');--1
insert into ps_un_bu_userpref values ('UNFEM','MLI','MLI30','Mali','Mali');--1
insert into ps_un_bu_userpref values ('UNFEM','HTI','HTI30','Haiti','Haiti');--1	


--C.	Table Set Control updates -

INSERT INTO PS_SET_CNTRL_REC(SELECT 'APA30',REC_GROUP_ID,RECNAME,SETID FROM   PS_SET_CNTRL_REC WHERE SETCNTRLVALUE='AFG30' );--6018
INSERT INTO PS_SET_CNTRL_GROUP(  SELECT 'APA30',REC_GROUP_ID,SETID FROM   PS_SET_CNTRL_GROUP WHERE SETCNTRLVALUE='AFG30' );--347
INSERT INTO  PS_SET_CNTRL_TBL(SELECT 'APA30',SETID,VERSION FROM PS_SET_CNTRL_TBL WHERE SETCNTRLVALUE='AFG30');--1 ROW

INSERT INTO PS_SET_CNTRL_REC(SELECT 'RAS30',REC_GROUP_ID,RECNAME,SETID FROM   PS_SET_CNTRL_REC WHERE SETCNTRLVALUE='AFG30' );--6018
INSERT INTO PS_SET_CNTRL_GROUP(  SELECT 'RAS30',REC_GROUP_ID,SETID FROM   PS_SET_CNTRL_GROUP WHERE SETCNTRLVALUE='AFG30' );--347
INSERT INTO  PS_SET_CNTRL_TBL(SELECT 'RAS30',SETID,VERSION FROM PS_SET_CNTRL_TBL WHERE SETCNTRLVALUE='AFG30');--1 ROW

INSERT INTO PS_SET_CNTRL_REC(SELECT 'LAC30',REC_GROUP_ID,RECNAME,SETID FROM   PS_SET_CNTRL_REC WHERE SETCNTRLVALUE='AFG30' );--6018
INSERT INTO PS_SET_CNTRL_GROUP(  SELECT 'LAC30',REC_GROUP_ID,SETID FROM   PS_SET_CNTRL_GROUP WHERE SETCNTRLVALUE='AFG30' );--347
INSERT INTO  PS_SET_CNTRL_TBL(SELECT 'LAC30',SETID,VERSION FROM PS_SET_CNTRL_TBL WHERE SETCNTRLVALUE='AFG30');--1 ROW

INSERT INTO PS_SET_CNTRL_REC(SELECT 'ESA30',REC_GROUP_ID,RECNAME,SETID FROM   PS_SET_CNTRL_REC WHERE SETCNTRLVALUE='AFG30' );--6018
INSERT INTO PS_SET_CNTRL_GROUP(  SELECT 'ESA30',REC_GROUP_ID,SETID FROM   PS_SET_CNTRL_GROUP WHERE SETCNTRLVALUE='AFG30' );--347
INSERT INTO  PS_SET_CNTRL_TBL(SELECT 'ESA30',SETID,VERSION FROM PS_SET_CNTRL_TBL WHERE SETCNTRLVALUE='AFG30');--1 ROW

INSERT INTO PS_SET_CNTRL_REC(SELECT 'WCA30',REC_GROUP_ID,RECNAME,SETID FROM   PS_SET_CNTRL_REC WHERE SETCNTRLVALUE='AFG30' );--6018
INSERT INTO PS_SET_CNTRL_GROUP(  SELECT 'WCA30',REC_GROUP_ID,SETID FROM   PS_SET_CNTRL_GROUP WHERE SETCNTRLVALUE='AFG30' );--347
INSERT INTO  PS_SET_CNTRL_TBL(SELECT 'WCA30',SETID,VERSION FROM PS_SET_CNTRL_TBL WHERE SETCNTRLVALUE='AFG30');--1 ROW

INSERT INTO PS_SET_CNTRL_REC(SELECT 'NPL30',REC_GROUP_ID,RECNAME,SETID FROM   PS_SET_CNTRL_REC WHERE SETCNTRLVALUE='AFG30' );--6018
INSERT INTO PS_SET_CNTRL_GROUP(  SELECT 'NPL30',REC_GROUP_ID,SETID FROM   PS_SET_CNTRL_GROUP WHERE SETCNTRLVALUE='AFG30' );--347
INSERT INTO  PS_SET_CNTRL_TBL(SELECT 'NPL30',SETID,VERSION FROM PS_SET_CNTRL_TBL WHERE SETCNTRLVALUE='AFG30');--1 ROW

INSERT INTO PS_SET_CNTRL_REC(SELECT 'MLI30',REC_GROUP_ID,RECNAME,SETID FROM   PS_SET_CNTRL_REC WHERE SETCNTRLVALUE='AFG30' );--6018
INSERT INTO PS_SET_CNTRL_GROUP(  SELECT 'MLI30',REC_GROUP_ID,SETID FROM   PS_SET_CNTRL_GROUP WHERE SETCNTRLVALUE='AFG30' );--347
INSERT INTO  PS_SET_CNTRL_TBL(SELECT 'MLI30',SETID,VERSION FROM PS_SET_CNTRL_TBL WHERE SETCNTRLVALUE='AFG30');--1 ROW


INSERT INTO PS_SET_CNTRL_REC( SELECT 'HTI30',REC_GROUP_ID,RECNAME,SETID FROM   PS_SET_CNTRL_REC WHERE SETCNTRLVALUE='AFG30' );--6018
INSERT INTO PS_SET_CNTRL_GROUP(SELECT 'HTI30',REC_GROUP_ID,SETID FROM   PS_SET_CNTRL_GROUP WHERE SETCNTRLVALUE='AFG30' );--347
INSERT INTO  PS_SET_CNTRL_TBL(SELECT 'HTI30',SETID,VERSION FROM PS_SET_CNTRL_TBL WHERE SETCNTRLVALUE='AFG30');--1 ROW

--D.	Addition of Business unit in Paycycle .
      --We have made script s to add EIGHT business unit in paycycle .
INSERT INTO ps_PYCYCL_BU (PAY_CYCLE,BUSINESS_UNIT,PROCESS_FLG) VALUES ('THA10','APA30','Y');--1
INSERT INTO ps_PYCYCL_BU (PAY_CYCLE,BUSINESS_UNIT,PROCESS_FLG) VALUES ('EGY10A','RAS30','Y');--1
INSERT INTO ps_PYCYCL_BU (PAY_CYCLE,BUSINESS_UNIT,PROCESS_FLG) VALUES ('EGY10B','RAS30','Y');--1
INSERT INTO ps_PYCYCL_BU (PAY_CYCLE,BUSINESS_UNIT,PROCESS_FLG) VALUES ('PAN10B','LAC30','Y');--1
INSERT INTO ps_PYCYCL_BU (PAY_CYCLE,BUSINESS_UNIT,PROCESS_FLG) VALUES ('KEN10','ESA30','Y');--1
INSERT INTO ps_PYCYCL_BU (PAY_CYCLE,BUSINESS_UNIT,PROCESS_FLG) VALUES ('SEN10A','WCA30','Y');--1
INSERT INTO ps_PYCYCL_BU (PAY_CYCLE,BUSINESS_UNIT,PROCESS_FLG) VALUES ('NPL10A','NPL30','Y');--1
INSERT INTO ps_PYCYCL_BU (PAY_CYCLE,BUSINESS_UNIT,PROCESS_FLG) VALUES ('MLI10A','MLI30','Y');--1
INSERT INTO ps_PYCYCL_BU (PAY_CYCLE,BUSINESS_UNIT,PROCESS_FLG) VALUES ('HTI10A','HTI30','Y');--1
